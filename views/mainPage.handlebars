<!DOCTYPE html>
<html>
<head>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>
    window.onload = function() {
     //  var eachStepArraySmall = [];
     //  var eachStepArray = [];
     //  for (var c = 0; c < sessionStorage.length; c++){
     //    eachStepArraySmall = JSON.parse(sessionStorage.getItem("key" + c));
     //    eachStepArray = eachStepArray.concat(eachStepArraySmall);
     //  }

     // //var eachStepArray = JSON.parse(sessionStorage.getItem("main")); //change localStorage strings into array
     //  console.log(eachStepArray);

     for (var i = 0; i < sessionStorage.length; i++) {
        $('#blah').append('<li class="closeable" id="edit'+i+'">' + sessionStorage.getItem("key"+i) + '</li>' + '<button class = "btnSave" num="'+i+'">Save</button>');
        //localStoarge.setItem("main", eachStepArray[i]);
    }
}

    // window.onbeforeunload = function(){
    //   var eachStep = JSON.parse(localStorage.getItem("main"));
    //   console.log(localStorage);
    //   for (var i = 0; i < eachStep.length; i++){
    //     sessionStorage.setItem("input", eachStep[i]);
    //   }
    //   console.log(sessionStorage);
    // }

    $(document).ready(function(){
            $(".btnSave").click(function(){
                //alert("text: " + $("#edit" + $(this).attr('num')).text());
                sessionStorage.setItem("key" + $(this).attr('num'), $("#edit" + $(this).attr('num')).text());
            });


    });
    console.log($('#test').textContent);

</script>


<!--Added styling to this page in mainPage.css-->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../css/bootstrap.css">
<link rel="stylesheet" href="../css/bootstrap-theme.css">
<link rel="stylesheet" href="../css/bootstrap.min.css">
<link rel="stylesheet" href="../css/mainPage.css">

<style>
</style>
</head>

<body>
    <div>
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-center navbar-brand" href="#">Algo-writer</a>
                </div>
            </div>
        </nav>
    </div>
    <div id="myDIV" class="header">
        <h2 style="margin:5px">My Algorithm</h2>
        <input type="text" id="myInput" placeholder="Next Step">
        <span onclick="newElement()" class="addBtn">Add</span>
    </div>

    <div>
        <button class="button"><a href = "details">Algorithm Details</a></button>
        <button class="button"><a href="yourparameters">Your Parameters</a></button><br>
        <button class="button"><a href="tips">Quick Tips</a> </button>
    </div>
    <ul id="myUL">
        <div id="blah" contenteditable="true">
            <li>Here is where you write all the steps in your algorithm!</li>
            <li id='test' class="closeable"><p>Try to be specific and think "line by line" how your code should work</p></li>
            <li class="closeable">You can add, delete, and edit steps</li>
            <!--<li class="checked closeable">Not sure you want to delete a step? Just cross it out by tapping the line!</li> -->

        </div>
    </ul>

    <script src="../js/mainPage.js"></script>

    <form>
        <button type="submit" class="button" formaction="index">Save and Quit</button>
        <button type="submit" class="button" formaction="suggestions">See Recommendations</button>
    </form>

</body>

</html>